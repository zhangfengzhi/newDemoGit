<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<!-- html5：在创建html时为了防止页面缩放等不兼容效果，要创建个viewport  -->
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<!-- 在IOS设备上，有时会将数字转为手机号，这里也要禁止下 -->
		<meta name="format-detection" content="telephone=no"/>
		<title>我的考勤</title>
		<link rel="stylesheet" type="text/css" href="../../../css/aui/aui.css" />
		<link id="j_theme_base" rel="stylesheet" type="text/css" href="" />
		<style>
			.history-date {
				font-size: 12px;
			}
			#message-content {
				overflow-y: auto;
				display: none;
			}
			
			
			.t_display_n {
				display: none;
			}
			.t_display_b {
				display: block;
			}
			.tag-title{height:45px; line-height:43px;background:#ffffff ;border-bottom:2px solid #E6E6E6;}
			.tag-title div{width:50%;text-align:center;color:#62656A;}
			.tag-title div.active{border-bottom:2px solid #34A8FA;color:#34A8FA;}
			.float-clear{overflow:auto}
			.tag-title-button{height:55px; line-height:43px;background:#f6f6f6;}
			.tag-title-button button{float:right}
			.menu{display:inline-block;width:28px;height:100%;background:url(../../../image/fun-module/iphone/kaoqin/static.png) center center no-repeat;background-size: 16px 16px;}
	.win-menu{height:100%;}
			.fl{float:left;}
			.fr{float:right;}
			.button-reset{margin-right:5px;margin-top:16px;background:#3498db;height:30px;padding-top:5px;}
			.button-all-selected{margin-right:5px;margin-top:16px;background:#2ecc71;height:30px;padding-top:5px;}
		</style>
	</head>
	<body class="w-ipad-common">
		<div id="wrap">
			<header class="aui-bar aui-bar-nav aui-bar-primary" id="aui-header">
				<div id="cloud" class="topbar activebar">
					<div id="back" class="back" onclick="back();" tapmode="">
						<i class="aui-iconfont aui-icon-left"></i>返回
					</div>
					<div  class="mTitle" id="mTitle">
						
					</div>
				</div>
				<div class="tag-title">
					<div id="qingjia" class="fl active" onclick="changeSandP(1);">学生</div>
					<div id="gongchu" class="fr" onclick="changeSandP(2);">家长</div>
				</div>
				<div class="tag-title-button float-clear">
					<button class="button-reset" onclick="reset();">重置密码</button>
					<button id="selected" class="button-all-selected" onclick="selectAll(1);">全选</button>
				</div>
			</header>
			<div  class="aui-content aui-content-padded" id="message-content">
				<p class="aui-text-center history-date"></p>
			</div>
		</div>
	</body>
	<script type="text/javascript" src="../../../script/api.js"></script>
	<script type="text/javascript" src="../../../script/common/common.js"></script>
	<script type="text/javascript" src="../../../script/base_config.js" ></script>
	<script type="text/javascript">
		//顶部header高度
		var header_h;
		apiready = function() {
			commonSetTheme({"level":3,"type":0});
			header_h = api.pageParam.header_h;
			commonSetWindowName(api.pageParam.class_name);
			commonBackForAndroid();//安卓关闭
			commonIosAuiHeader();//定位header位置，留出上面电池等空隙，苹果需要
			openGlListFrame();
		};
		/*
		*author:zhaoj
		*function:返回页面
		*date：20160307
		*/
		function back() {
			api.closeWin();
		}
		
		/*
		 * 功能：打开学生列表
		 * 作者：张自强
		 * 时间：20171011
		 */
		function openGlListFrame(){
			var pageParamJson = {
				'id' : api.pageParam.id,
				'type' : 1
			};
			commonOpenFrame('w_bjgl_frame', 'w_bjgl_frame.html', header_h+100, true, false, '#f6f6f6', pageParamJson);
		}
		
		/*
		 * 功能：切换家长和学生列表
		 * 作者：张自强
		 * 时间：20171011
		 */
		function changeSandP(type){
			if(type == 1){//学生
				$api.addCls($api.byId('qingjia'), 'active');
				$api.removeCls($api.byId('gongchu'),'active');
			}else{//家长
				$api.addCls($api.byId('gongchu'), 'active');
				$api.removeCls($api.byId('qingjia'),'active');
			}
			api.execScript({
	            frameName : 'w_bjgl_frame',
	            script: 'changeSandP('+type+');'
            });
		}
		/*
		 * 功能：点击全选按钮
		 * 作者：张自强
		 * 时间：20171011
		 */
		function selectAll(num){
			if(num == 1){//点击全选
				$api.attr($api.byId('selected'), 'onclick', 'selectAll(2);');
			}else{//取消了全选
				$api.attr($api.byId('selected'), 'onclick', 'selectAll(1);');
			}
			api.execScript({
	            frameName : 'w_bjgl_frame',
	            script: 'selectAll('+num+');'
            });
		}
		
		/*
		 * 功能：调用重置密码方法
		 * 作者：张自强
		 * 时间：20171011
		 */
		function reset(){
			api.execScript({
	            frameName : 'w_bjgl_frame',
	            script: 'reset();'
            });
		}
	</script>
</html>