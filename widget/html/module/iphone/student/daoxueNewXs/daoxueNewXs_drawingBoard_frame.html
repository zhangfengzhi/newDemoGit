<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>学生检测</title>
    <link rel="stylesheet" type="text/css" href="../../../../../css/aui/aui.css" />
    <link id="j_theme_base" rel="stylesheet" type="text/css" href="" />
    <style>
    	body{
    		background:#f6f6f6;
    	}
    	.tip{
    		height:30px;
    		padding:8px 0 0 15px;
    		border-bottom:1px solid #e0e0e0;
    		font-size:14px;
    		color:#f00;
    	}
    	.footer-btn {
			display: block;
			bottom: 0px;
			width: 100%;
			height:45px;
			text-align: right;
			color: #fff;
			padding-top: 5px;
			border-top: 1px solid #e0e0e0;
			position: fixed;
		}
		.footer-btn button{
			float:right;
			margin-right:15px;
		}
    </style>
</head>
<body class="common-iphone-daoxueNewXs">
	<div class="tip">注：请在以下有效区域内作答</div>
	<div class="footer-btn">
		<button class="aui-btn aui-btn-info" onclick="save();">
			保存
		</button>
		<button class="aui-btn aui-btn-info" onclick="revokeOrRestore(0);">
			恢复
		</button>
		<button class="aui-btn aui-btn-success" onclick="revokeOrRestore(1);">
			撤销
		</button>
		<button class="aui-btn aui-btn-success" onclick="clearanceMark();">
			清空
		</button>
	</div>
</body>
<script type="text/javascript" src="../../../../../script/api.js"></script>
<script type="text/javascript" src="../../../../../script/base_config.js" ></script>
<script type="text/javascript" src="../../../../../script/common/common.js" ></script>
<script type="text/javascript" src="../../../../../script/assembly/drawingBoard.js" ></script>
<script type="text/javascript">
	apiready = function(){
	    commonSetTheme({"level":5,"type":0});
		var params_json = {
			y : api.pageParam.header_h+30,
			h : api.frameHeight-75
		};	
		drawingBoard.open(params_json);
	};
	/*
	*author:zhaoj
	*function:清除所有痕迹
	*date：20170531
	*/
	function clearanceMark(){
		drawingBoard.clear();
	}
	/*
	*author:zhaoj
	*function:撤销或者恢复
	*date：20170531
	*/
	function revokeOrRestore(type){
		if(type){
			drawingBoard.revoke();
		}else{
			drawingBoard.restore();
		}
	}
	/*
	*author:zhaoj
	*function:保存
	*date：20170531
	*/
	function save(){
		showSelfProgress('保存中...');
		drawingBoard.save('',function(ret){
			ret = $api.strToJson(ret);
			commonExecScript('daoxueNewXs_detail_window','daoxueNewXs_practice_frame','getDrawingBoardImgPath("'+ret.absolutePath+'");',1);
		});
	}
</script>
</html>