<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
	    <meta name="format-detection" content="telephone=no" />
		<title>初始化页面-慧学习</title>
		<link rel="stylesheet" type="text/css" href="../../../../css/aui/aui.css" />
		<link rel="stylesheet" type="text/css" href="../../../../css/module/ipad/init_student.css" />
		<link id="j_theme_base" rel="stylesheet" type="text/css" href="" />
		<link id="j_mode" rel="stylesheet" type="text/css" href="" />
		<style type="text/css">
         .cshym-content{overflow:visible;} .hbg-scroll{width:100%;height:100%;position:absolute;left:0;top:0;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;-webkit-transition:all 0.3s ease-in-out;}
         .change_point{position:fixed;width:40px;padding:5px;right:10px;top:50%;margin-top:-45px;z-index: 999;}
         .change_point div{width:15px;height:15px; border-radius:15px; background: #ccc;margin:10px;}
         .change_point div.active{background: #929191;}
         .cshym-content li .bg-img > em{display: inline-block;position: absolute;background: #f00;color: #fff;border-radius: 20px;width: 30px;height: 30px;text-align: center;line-height: 30px;right: -6px;top: -5px;}
        </style>
	</head>
	<body id="j_body" class="aui-hide" ontouchstart="touchSatrt(event);" ontouchmove="touchMove(event);" ontouchend="touchEnd(event);">
	    <div class="change_point">
            <div id="top_point" onclick="scrollToTop()" class="active aui-hide">&nbsp;</div>
            <div id="bottom_point" onclick="scrollToBottom()" class="aui-hide">&nbsp;</div>
        </div>
	    <div id="j_scroll" class="hbg-scroll clearfix">
    		<ul id="j_hxx" class="cshym-content hxx-content"></ul>
    	    <script type="text/html" id="basic_ipad_script">
    	      <%for(var i = 0; i < 1; i++){%>
                <%if(list[i].list.length != 0){%>
                    <%for(var j = 0; j < list[i].list.length; j++){%>
                        <li onclick='openModuleIpad("<%=list[i].list[j].win_url%>","<%=list[i].list[j].type%>","<%=list[i].list[j].code%>");'>
                            <div class="j_img zoomImage bg-img <%=list[i].list[j].icon_css%>">
                                <div class="mode-name"><%=list[i].list[j].win_name%></div>
                            </div>
                        </li>
                    <%}%>
                <%}else{%>
                    <div class="no-data" style="font-size:20px;margin-top:2%;">暂无模块</div>
                <%}%>
              <%}%>
    	    </script>
		</div>
	</body>
	<script type="text/javascript" src="../../../../script/api.js"></script>
	<script type="text/javascript" src="../../../../script/base_config.js"></script>
	<script type="text/javascript" src="../../../../script/common/common.js"></script>
	<script type="text/javascript" src="../../../../script/init/init_config.js"></script>
	<script type="text/javascript" src="../../../../script/assembly/executeApp.js" ></script>
    <script type="text/javascript" src="../../../../script/plug-in/template.js"></script>
    <script type="text/javascript" src="../../../../script/init/init_config.js"></script>
    <script type="text/javascript" src="../../../../script/init/init_config_new.js"></script>
    <script type="text/javascript" src="../../../../script/assembly/tongjiData.js"></script>
    <script type="text/javascript" src="../../../../script/init/iphone/init_module.js" ></script>
    <script type="text/javascript" src="../../../../script/plug-in/base64.js" ></script>
	<script type="text/javascript">
		var header_h;
		var can_scrolltoBottom1 = false;
		apiready = function() {
			commonSetTheme({"level":4,"type":4});
			header_h = api.pageParam.header_h;
			initData();
		};
		/*
        *author:zhaoj
        *function:设置高度
        *date：20170814
        */
       	function setMarginTop(){
       		$api.removeCls($api.byId('j_body'), 'aui-hide');
       		var div_array = $api.domAll($api.byId('j_hxx'), '.j_img');
       		var height_h = $api.cssVal(div_array[0],'width');
       		height_h = height_h.substring(0,height_h.length-2);
       		height_h = Math.floor(height_h*1/2)+20;
       		for(var i = 0; i < div_array.length; i++){
       			$api.css(div_array[i],'margin-top:-'+height_h+'px;');
       		}
       		if(can_scrolltoBottom1){
       		   commonAddOrRemoveHideCss('top_point',1);
       		   commonAddOrRemoveHideCss('bottom_point',1);
       		}
       	}
       	
       	/*
        *author:zhaoj
        *function:初始化页面,加载应用菜单
        *date：20171124
        */
        function initData(){
          setNoticeTs(function(is_true){
                initModeShow();
            });
        }
		
    /*
    *author:zhaoj
    *function:触摸开始，和触摸开始的坐标进行对比，大于0说明是向下滑动，小于0说明是向上滑动
    *date：20171117
    */
     function touchMove(e){//滑动          
         e.preventDefault();        
         var  touch = e.touches[0];               
         y = touch.pageY - startY;//滑动的距离
         x = touch.pageX - startX;//滑动的距离
         if(Math.abs(x) > Math.abs(y)){
            if(api.systemType =='ios' && x < 0){
                commonExecScript('root','','changeBtnTitle("hsh_btn",1,1);',0);
            }
         }else{
            if(can_scrolltoBottom1){
                if(y<0){
                    scrollToBottom();
                }else{
                    scrollToTop();
                }   
            }
         }
    } 
	</script>
</html>